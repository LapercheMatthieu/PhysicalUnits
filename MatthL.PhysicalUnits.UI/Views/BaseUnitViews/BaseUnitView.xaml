<UserControl x:Class="MatthL.PhysicalUnits.UI.Views.BaseUnitViews.BaseUnitView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:MatthL.PhysicalUnits.UI.Views.BaseUnitViews"
            xmlns:boolean="clr-namespace:MatthL.WPF.Essentials.Converters;assembly=MatthL.WPF.Essentials.Converters"
            xmlns:controls="clr-namespace:MatthL.WPF.Essentials.BaseControls;assembly=MatthL.WPF.Essentials.BaseControls"
             xmlns:enums="clr-namespace:MatthL.PhysicalUnits.Core.Enums;assembly=MatthL.PhysicalUnits.Core"
             xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
             xmlns:converters="clr-namespace:MatthL.PhysicalUnits.UI.Converters" 
             xmlns:prefixviews="clr-namespace:MatthL.PhysicalUnits.UI.Views.PrefixViews"
             mc:Ignorable="d"
             d:DesignHeight="400" d:DesignWidth="150" x:Name="baseunitcolumn">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MatthL.WPF.Essentials.Styles;component/StyleDictionary.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <boolean:BoolToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
            <boolean:BoolToInvisibilityConverter x:Key="BooleanToInvisibilityConverter" />
            <converters:FractionToDisplayValueConverter x:Key="FractionToDisplayValueConverter"/>
            <Style x:Key="LabelStyle" TargetType="TextBlock">
                <Setter Property="FontWeight" Value="Bold" />
                <Setter Property="Margin" Value="5,5,10,5" />
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="HorizontalAlignment" Value="Right" />
            </Style>

            <!-- Style pour les valeurs -->
            <Style x:Key="ValueStyle" TargetType="TextBlock">
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="Margin" Value="5" />
            </Style>

            <!-- Style pour les headers de colonne -->
            <Style x:Key="ColumnHeaderStyle" TargetType="TextBlock">
                <Setter Property="FontWeight" Value="Bold" />
                <Setter Property="FontSize" Value="14" />
                <Setter Property="HorizontalAlignment" Value="Center" />
                <Setter Property="Margin" Value="5,5,5,10" />
                <Setter Property="Foreground" Value="#2053C4" />
            </Style>

            <!-- Style pour le border principal -->
            <Style x:Key="MainBorderStyle" TargetType="Border">
                <Setter Property="BorderBrush" Value="#DDDDDD" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="CornerRadius" Value="5" />
                <Setter Property="Padding" Value="10" />
                <Setter Property="Background" Value="#FAFAFA" />
            </Style>

            <!-- Style pour les séparateurs de colonnes -->
            <Style x:Key="ColumnSeparatorStyle" TargetType="Border">
                <Setter Property="Width" Value="1" />
                <Setter Property="Background" Value="#DDDDDD" />
                <Setter Property="Margin" Value="5,0" />
            </Style>
        </ResourceDictionary>
    </UserControl.Resources>
    <Border BorderBrush="DarkGray" BorderThickness="1" Margin="2">
        <UniformGrid Background="White" Columns="1">
            <Button Style="{StaticResource DeleteButtonStyle}"
                    Margin="2"
                    x:Name="DelButton" Click="DelButton_Click" 
                     Visibility="{Binding CanEdit ,Converter={StaticResource BooleanToVisibilityConverter} }" >
                <iconPacks:PackIconMaterial Kind="DeleteOutline" Foreground="Red"/>
            </Button>

            <TextBlock 
                    Visibility="{Binding CanEdit ,Converter={StaticResource BooleanToInvisibilityConverter} }" />
            <!-- Nom -->
            <TextBlock
             Text="{Binding Name}"
                VerticalAlignment="Center"
                d:Text="Newton"
             HorizontalAlignment="Center" />

            <!-- Symbole -->
            <TextBlock
             Text="{Binding Symbol}"
                 d:Text="N"
                VerticalAlignment="Center"
                FontStyle="Italic"
                FontWeight="Bold"
             FontFamily="Consolas"
             FontSize="14"
             HorizontalAlignment="Center" />

            <!-- Dimension -->
            <TextBlock
             Text="{Binding DimensionalFormula}"
                 d:Text="kg.m/s²"
                VerticalAlignment="Center"
                 FontStyle="Italic"
            FontWeight="Bold"
             FontFamily="Consolas"
             HorizontalAlignment="Center" />

            <!-- Facteur -->
            <TextBlock d:Text="7.4x10^4"
            VerticalAlignment="Center"
             Text="{Binding ConversionFactor, Converter={StaticResource FractionToDisplayValueConverter}, Mode=OneWay}"
             HorizontalAlignment="Center" />

            <!-- Offset -->
            <TextBlock d:Text="offset"
             Text="{Binding Offset, Mode=OneWay}"
              VerticalAlignment="Center"
             HorizontalAlignment="Center" />

            <!-- Exposant -->
            <TextBlock d:Text="Exposant"
                Visibility="{Binding CanEdit ,Converter={StaticResource BooleanToInvisibilityConverter} }"
             Text="{Binding Exponent}"
            VerticalAlignment="Center"
             HorizontalAlignment="Center" />
            
            <UniformGrid Rows="1"
                  Visibility="{Binding CanEdit, Converter={StaticResource BooleanToVisibilityConverter} }">

                <TextBox  d:Text="Exposant"
                          FontSize="12"
                 Text="{Binding Exponent_Numerator}"
                 HorizontalAlignment="Center" />

                <TextBox d:Text="Exposant"
                         FontSize="12"
                 Text="{Binding Exponent_Denominator}"
                 HorizontalAlignment="Center" />
            </UniformGrid>

            <!-- Système -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <TextBlock Text="{Binding UnitSystem}"
                Style="{StaticResource ValueStyle}"
                Margin="0,5,10,5" />
                <Border CornerRadius="3"
              Padding="5,2"
              Background="#E6F7E6"
              BorderBrush="#75C475"
              BorderThickness="1"
              Visibility="{Binding IsSI, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <TextBlock Text="SI"
                    FontWeight="Bold"
                    FontSize="10"
                    Foreground="#267726" />
                </Border>
            </StackPanel>

            <!-- Préfixe -->
            <prefixviews:PrefixSelectorButtonView SelectedPrefix="{Binding Prefix}"/>
        </UniformGrid>
    </Border>
</UserControl>