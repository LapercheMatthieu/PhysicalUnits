<UserControl x:Class="MatthL.PhysicalUnits.UI.Views.BaseUnitColumn"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:MatthL.PhysicalUnits.UI.Views"
             xmlns:boolean="clr-namespace:MatthL.WPF.Essentials.Converters;assembly=MatthL.WPF.Essentials.Converters"
             xmlns:enums="clr-namespace:MatthL.PhysicalUnits.Core.Enums;assembly=MatthL.PhysicalUnits.Core"
             xmlns:converters="clr-namespace:MatthL.PhysicalUnits.UI.Converters;assembly=MatthL.PhysicalUnits.UI"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800" x:Name="baseunitcolumn">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MatthL.WPF.Essentials.Styles;component/StyleDictionary.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <boolean:BoolToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
            <boolean:BoolToInvisibilityConverter x:Key="BooleanToInvisibilityConverter" />
            <Style x:Key="LabelStyle" TargetType="TextBlock">
                <Setter Property="FontWeight" Value="Bold" />
                <Setter Property="Margin" Value="5,5,10,5" />
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="HorizontalAlignment" Value="Right" />
            </Style>

            <!-- Style pour les valeurs -->
            <Style x:Key="ValueStyle" TargetType="TextBlock">
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="Margin" Value="5" />
            </Style>

            <!-- Style pour les headers de colonne -->
            <Style x:Key="ColumnHeaderStyle" TargetType="TextBlock">
                <Setter Property="FontWeight" Value="Bold" />
                <Setter Property="FontSize" Value="14" />
                <Setter Property="HorizontalAlignment" Value="Center" />
                <Setter Property="Margin" Value="5,5,5,10" />
                <Setter Property="Foreground" Value="#2053C4" />
            </Style>

            <!-- Style pour le border principal -->
            <Style x:Key="MainBorderStyle" TargetType="Border">
                <Setter Property="BorderBrush" Value="#DDDDDD" />
                <Setter Property="BorderThickness" Value="1" />
                <Setter Property="CornerRadius" Value="5" />
                <Setter Property="Padding" Value="10" />
                <Setter Property="Background" Value="#FAFAFA" />
            </Style>

            <!-- Style pour les séparateurs de colonnes -->
            <Style x:Key="ColumnSeparatorStyle" TargetType="Border">
                <Setter Property="Width" Value="1" />
                <Setter Property="Background" Value="#DDDDDD" />
                <Setter Property="Margin" Value="5,0" />
            </Style>
        </ResourceDictionary>
    </UserControl.Resources>
    <Border BorderBrush="DarkGray" BorderThickness="1" Margin="2">
        <UniformGrid Background="White" Columns="1">
            <Button Style="{StaticResource DeleteButtonStyle}" x:Name="DelButton" Click="DelButton_Click"
                     Visibility="{Binding CanEdit ,Converter={StaticResource BooleanToVisibilityConverter} }" />

            <TextBlock  Style="{StaticResource ValueStyle}"
                    Visibility="{Binding CanEdit ,Converter={StaticResource BooleanToInvisibilityConverter} }" />
            <!-- Nom -->
            <TextBlock
             Text="{Binding Name}"
                d:Text="nom"
             Style="{StaticResource ValueStyle}"
             HorizontalAlignment="Center" />

            <!-- Symbole -->
            <TextBlock
             Text="{Binding Symbol}"
                 d:Text="Symbol"
             Style="{StaticResource ValueStyle}"
             FontFamily="Consolas"
             FontSize="14"
             HorizontalAlignment="Center" />

            <!-- Dimension -->
            <TextBlock
             Text="{Binding DimensionalFormula}"
                 d:Text="Formule"
             Style="{StaticResource ValueStyle}"
             FontFamily="Consolas"
             HorizontalAlignment="Center" />

            <!-- Facteur -->
            <TextBlock d:Text="Facteur"
             Text="{Binding ConversionFactor}"
             Style="{StaticResource ValueStyle}"
             HorizontalAlignment="Center" />

            <!-- Offset -->
            <TextBlock d:Text="offset"
             Text="{Binding Offset}"
             Style="{StaticResource ValueStyle}"
             HorizontalAlignment="Center" />

            <!-- Exposant -->
            <TextBlock d:Text="Exposant"
                Visibility="{Binding CanEdit ,Converter={StaticResource BooleanToInvisibilityConverter} }"
             Text="{Binding Exponent}"
             Style="{StaticResource ValueStyle}"
             FontFamily="Consolas"
             HorizontalAlignment="Center" />
            <UniformGrid Rows="1"
                  Visibility="{Binding CanEdit, Converter={StaticResource BooleanToVisibilityConverter} }">

                <TextBox d:Text="Exposant"
             Text="{Binding Exponent_Numerator}"
             FontFamily="Consolas"
             HorizontalAlignment="Center" />

                <TextBox d:Text="Exposant"
             Text="{Binding Exponent_Denominator}"

             FontFamily="Consolas"
             HorizontalAlignment="Center" />
            </UniformGrid>

            <!-- Système -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <TextBlock Text="{Binding UnitSystem}"
                Style="{StaticResource ValueStyle}"
                Margin="0,5,10,5" />
                <Border CornerRadius="3"
              Padding="5,2"
              Background="#E6F7E6"
              BorderBrush="#75C475"
              BorderThickness="1"
              Visibility="{Binding IsSI, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <TextBlock Text="SI"
                    FontWeight="Bold"
                    FontSize="10"
                    Foreground="#267726" />
                </Border>
            </StackPanel>

            <!-- Préfixe -->
            <ComboBox
            ItemsSource="{Binding Source={x:Static enums:Prefix.SI}, Converter={x:Static converters:EnumToValuesConverter.Instance}}"
            SelectedItem="{Binding Prefix, Mode=TwoWay}"
            MaxDropDownHeight="250"
            Margin="5"
            MinWidth="100">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="{Binding}" Width="50" />
                            <TextBlock Text=" (" Foreground="Gray" FontSize="10" />
                            <TextBlock Text="{Binding Converter={x:Static converters:PrefixToSymbolConverter.Instance}}"
                            Foreground="Gray" FontSize="10" />
                            <TextBlock Text=")" Foreground="Gray" FontSize="10" />
                        </StackPanel>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>
        </UniformGrid>
    </Border>
</UserControl>